{"ast":null,"code":"import axios from \"axios\";\nconst BASE_URL = \"http://127.0.0.1:8000\";\nconst api = axios.create({\n  baseURL: BASE_URL,\n  timeout: 5000,\n  withCredentials: true,\n  // Include credentials for cross-origin requests\n  xsrfHeaderName: \"X-CSRFTOKEN\",\n  xsrfCookieName: \"csrftoken\"\n});\n\n// Function to set the authorization header with the token\nconst setAuthorizationHeader = token => {\n  if (token) {\n    api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  } else {\n    delete api.defaults.headers.common[\"Authorization\"];\n  }\n};\nexport const registerUser = userData => {\n  return api.post(\"/register/\", userData);\n};\nexport const loginUser = userData => {\n  return api.post(\"/login/\", userData).then(response => {\n    const token = response.data.token;\n    setAuthorizationHeader(token);\n    return response;\n  });\n};\nexport const getUserDetails = () => {\n  return api.get(\"/user-details\");\n};\nexport const logoutUser = () => {\n  return api.post(\"/logout/\");\n};\n\n// Other API functions\n// ...\n\nexport default api;","map":{"version":3,"names":["axios","BASE_URL","api","create","baseURL","timeout","withCredentials","xsrfHeaderName","xsrfCookieName","setAuthorizationHeader","token","defaults","headers","common","registerUser","userData","post","loginUser","then","response","data","getUserDetails","get","logoutUser"],"sources":["D:/GitHub/Tuesday/frontend/src/services/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst BASE_URL = \"http://127.0.0.1:8000\";\r\n\r\nconst api = axios.create({\r\n  baseURL: BASE_URL,\r\n  timeout: 5000,\r\n  withCredentials: true, // Include credentials for cross-origin requests\r\n  xsrfHeaderName: \"X-CSRFTOKEN\",\r\n  xsrfCookieName: \"csrftoken\",\r\n});\r\n\r\n// Function to set the authorization header with the token\r\nconst setAuthorizationHeader = (token) => {\r\n  if (token) {\r\n    api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n  } else {\r\n    delete api.defaults.headers.common[\"Authorization\"];\r\n  }\r\n};\r\n\r\nexport const registerUser = (userData) => {\r\n  return api.post(\"/register/\", userData);\r\n};\r\n\r\nexport const loginUser = (userData) => {\r\n  return api.post(\"/login/\", userData).then((response) => {\r\n    const token = response.data.token;\r\n    setAuthorizationHeader(token);\r\n    return response;\r\n  });\r\n};\r\n\r\nexport const getUserDetails = () => {\r\n  return api.get(\"/user-details\");\r\n};\r\n\r\nexport const logoutUser = () => {\r\n  return api.post(\"/logout/\");\r\n};\r\n\r\n// Other API functions\r\n// ...\r\n\r\nexport default api;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAG,uBAAuB;AAExC,MAAMC,GAAG,GAAGF,KAAK,CAACG,MAAM,CAAC;EACvBC,OAAO,EAAEH,QAAQ;EACjBI,OAAO,EAAE,IAAI;EACbC,eAAe,EAAE,IAAI;EAAE;EACvBC,cAAc,EAAE,aAAa;EAC7BC,cAAc,EAAE;AAClB,CAAC,CAAC;;AAEF;AACA,MAAMC,sBAAsB,GAAIC,KAAK,IAAK;EACxC,IAAIA,KAAK,EAAE;IACTR,GAAG,CAACS,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAI,UAASH,KAAM,EAAC;EAClE,CAAC,MAAM;IACL,OAAOR,GAAG,CAACS,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC;EACrD;AACF,CAAC;AAED,OAAO,MAAMC,YAAY,GAAIC,QAAQ,IAAK;EACxC,OAAOb,GAAG,CAACc,IAAI,CAAC,YAAY,EAAED,QAAQ,CAAC;AACzC,CAAC;AAED,OAAO,MAAME,SAAS,GAAIF,QAAQ,IAAK;EACrC,OAAOb,GAAG,CAACc,IAAI,CAAC,SAAS,EAAED,QAAQ,CAAC,CAACG,IAAI,CAAEC,QAAQ,IAAK;IACtD,MAAMT,KAAK,GAAGS,QAAQ,CAACC,IAAI,CAACV,KAAK;IACjCD,sBAAsB,CAACC,KAAK,CAAC;IAC7B,OAAOS,QAAQ;EACjB,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAME,cAAc,GAAGA,CAAA,KAAM;EAClC,OAAOnB,GAAG,CAACoB,GAAG,CAAC,eAAe,CAAC;AACjC,CAAC;AAED,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAC9B,OAAOrB,GAAG,CAACc,IAAI,CAAC,UAAU,CAAC;AAC7B,CAAC;;AAED;AACA;;AAEA,eAAed,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}