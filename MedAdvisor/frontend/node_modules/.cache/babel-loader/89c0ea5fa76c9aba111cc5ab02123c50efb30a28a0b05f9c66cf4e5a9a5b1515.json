{"ast":null,"code":"import _regeneratorRuntime from\"D:/GitHub/Tuesday/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/GitHub/Tuesday/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/GitHub/Tuesday/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// CombinedForm.js\nimport React,{useState}from'react';import{useAuth}from'../../AuthContext';import{fillPreMedicalForm,createBlogPost}from'../../apiService';import'./CombinedForm.css';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CombinedForm=function CombinedForm(){var _useAuth=useAuth(),user=_useAuth.user;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),symptoms=_useState2[0],setSymptoms=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),content=_useState6[0],setContent=_useState6[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var preMedicalFormResponse,blogPostResponse;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return fillPreMedicalForm({symptoms:symptoms,patient:user.id});case 4:preMedicalFormResponse=_context.sent;if(!preMedicalFormResponse){_context.next=11;break;}_context.next=8;return createBlogPost({title:title,content:content,author:user.id});case 8:blogPostResponse=_context.sent;console.log('Pre-Medical Form Response:',preMedicalFormResponse);console.log('Blog Post Response:',blogPostResponse);case 11:_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 16:case\"end\":return _context.stop();}},_callee,null,[[1,13]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-container mt-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4\",children:\"Create a Post and Fill Pre-Medical Form\"}),/*#__PURE__*/_jsxs(Form,{className:\"combined-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Title:\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Content:\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,value:content,onChange:function onChange(e){return setContent(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Symptoms:\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,value:symptoms,onChange:function onChange(e){return setSymptoms(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]})]})});};export default CombinedForm;","map":{"version":3,"names":["React","useState","useAuth","fillPreMedicalForm","createBlogPost","Form","Button","jsx","_jsx","jsxs","_jsxs","CombinedForm","_useAuth","user","_useState","_useState2","_slicedToArray","symptoms","setSymptoms","_useState3","_useState4","title","setTitle","_useState5","_useState6","content","setContent","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","preMedicalFormResponse","blogPostResponse","wrap","_callee$","_context","prev","next","preventDefault","patient","id","sent","author","console","log","t0","error","stop","_x","apply","arguments","className","children","onSubmit","Group","Label","Control","type","value","onChange","target","as","rows","variant"],"sources":["D:/GitHub/Tuesday/frontend/src/web/cmpts/Patient/CombinedForm.js"],"sourcesContent":["// CombinedForm.js\r\nimport React, { useState } from 'react';\r\nimport { useAuth } from '../../AuthContext';\r\nimport { fillPreMedicalForm, createBlogPost } from '../../apiService';\r\nimport './CombinedForm.css';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nconst CombinedForm = () => {\r\n  const { user } = useAuth();\r\n\r\n  const [symptoms, setSymptoms] = useState('');\r\n  const [title, setTitle] = useState('');\r\n  const [content, setContent] = useState('');\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const preMedicalFormResponse = await fillPreMedicalForm({ symptoms, patient: user.id });\r\n      if (preMedicalFormResponse) {\r\n        const blogPostResponse = await createBlogPost({ title, content, author: user.id });\r\n        console.log('Pre-Medical Form Response:', preMedicalFormResponse);\r\n        console.log('Blog Post Response:', blogPostResponse);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <div className=\"form-container mt-5\">\r\n        <h2 className=\"mb-4\">Create a Post and Fill Pre-Medical Form</h2>\r\n        <Form className=\"combined-form\" onSubmit={handleSubmit}>\r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Title:</Form.Label>\r\n            <Form.Control type=\"text\" value={title} onChange={(e) => setTitle(e.target.value)} />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Content:</Form.Label>\r\n            <Form.Control as=\"textarea\" rows={3} value={content} onChange={(e) => setContent(e.target.value)} />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Symptoms:</Form.Label>\r\n            <Form.Control as=\"textarea\" rows={3} value={symptoms} onChange={(e) => setSymptoms(e.target.value)} />\r\n          </Form.Group>\r\n          <Button variant=\"primary\" type=\"submit\">\r\n            Submit\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CombinedForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}